<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Group Pi's Web Crawler Project</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>

    <body onload="init();">

		<!-- Header -->
			<div id="header">

				<div class="top">

					<!-- OSU Logo -->
						<div id="logo">
							<span class="image avatar48"><img src="images/osu.png" alt="" /></span>
							<h1 id="title">Group Pi</h1>
							<p>Web Crawler</p>
						</div>

					<!-- Navigation Bar -->
						<nav id="nav">
							<ul>
								<li><a href="#top" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Welcome</span></a></li>
								<li><a href="#tryit" id="tryit-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Try It</span></a></li>
								<li><a href="#results" id="results-link" class="skel-layers-ignoreHref"><span class="icon fa-user">Results</span></a></li>
								<li><a href="#contact" id="contact-link" class="skel-layers-ignoreHref"><span class="icon fa-envelope">Sources</span></a></li>
							</ul>
						</nav>

				</div>

				<div class="bottom">

					<!-- Github -->
						<ul class="icons">
							<li><a href="https://github.com/419Pi/crawler" target="_blank" class="icon fa-github"><span class="label">Github</span></a></li>
						</ul>
				</div>
			</div>

		<!-- Main -->
			<div id="main">

				<!-- Intro -->
					<section id="top" class="one dark cover">
						<div class="container">

							<header>
								<h2 class="alt">Welcome to<strong> Group Pi's</strong> Web Crawler<br>
									project for CS 496.</h2>
							</header>

                            <p><h4>This crawler will start on a URL and find all hyperlinks on the site, then
                        will map them for a visual representation.  Pretty neat, huh?</h4></p>

							<footer>
								<a href="#tryit" class="button scrolly">Try it!</a>
							</footer>
						</div>
					</section>

				<!-- Try It -->
					<section id="tryit" class="two">
						<div class="container">

							<header>
								<h4>All we need to get started is a URL, but feel free to specify a search type and a stop keyword.</h4>
							</header>

                            <!--Citation: http://stackoverflow.com/questions/6997400/css-for-aligning-textbox-and-label,
                                http://stackoverflow.com/questions/17139883/how-to-line-up-text-and-textboxes-horizontally-->
							<form method="GET" action="https://fast-beyond-66023.herokuapp.com/crawl?" enctype="multipart/form-data">
                                <div class="fields">
                                <label>Choose a Web Page to Start From: </label>
                                    <!--<span><input type="url" id="url" onblur="validateURL()"> -->
                                    <span><input type="url" id="url"></span>
								<label> What kind of search? </label>
                                    <span><input type="radio" name="searchType" id="searchType" value="DFS" checked="checked">Depth-First
                                    <input type="radio" name="searchType" id="searchType" value="BFS">Breadth-First
                                    </span>
                                </div>

								<div class="fields">
								<label>Keyword to Stop On (optional): </label>
                                    <span><input type="text" id="keyword"></span>
                                </div>
                            </form><br>

								<div class="button">
                                    <button class="button scrolly" type="button" onclick=startCrawl()>Begin Crawling!</button>
								</div>
                            </div>
                        </section>

                <!-- Results -->
						<section id="results" class="three">
						<div class="container">

							<header>
								<h2>Results:</h2>
							</header>

						<!-- Basic EaselJS Functionality-->
							<script>
								function init() {
									var stage = new createjs.Stage("demoCanvas");
									var circle = new createjs.Shape();
									circle.graphics.beginFill("DeepSkyBlue").drawCircle(0, 0, 50);
									circle.x = 100;
									circle.y = 100;
									stage.addChild(circle);
									stage.update();
								}
							</script>

							<div class="easel">
								<canvas id="demoCanvas" width="500" height="300"></canvas>
							</div>

						</div>
					</section>

		<!-- Footer -->
			<div id="footer">

				<!-- Revision date -->
					<ul class="revision">
						<li>Latest Revision: 5.20.16</li>
					</ul>
			</div>

<!------------------------------- Javascript Scripts ------------------------------->
                            <!--URL Validation
                       Citation: http://stackoverflow.com/questions/1303872/trying-to-validate-url-using-javascript
                       !-->
                            <script>
                                function validateURL() {
                                    var urlregex = /^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;
                                    urlTested = document.getElementById('url').value;
                                    console.log(urlTested);
                                    console.log(urlregex.test(urlTested));
                                    if (urlregex.test(urlTested))
                                        return true;
                                    else
                                        return false;
                                }
                            </script>


                            <!-- Citation: http://stackoverflow.com/questions/28597167/how-do-it-have-a-radio-button-pass-data-hidden-from-url -->
                            <script type="text/javascript">
                                function startCrawl() {
                                    if (validateURL()) {
                                        var radios = document.getElementsByName('searchType');

                                        for (var i = 0, length = radios.length; i < length; i++) {
                                            if (radios[i].checked) {
                                                $selectedRadio = radios[i].value;
                                                break;
                                            }
                                        }
                                        <!--Passing in additional parameters-->
                                        window.location.href="https://fast-beyond-66023.herokuapp.com/crawl?url=" + document.getElementById('url').value + '&type='
                                        	+ $selectedRadio + '&keyword=' + document.getElementById('keyword').value;
                                    }
                                    else {
                                        console.log("Invalid URL");
                                    }
                                }
                            </script>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollzer.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>
            <script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
            <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
	</div>
    </body>
</html>